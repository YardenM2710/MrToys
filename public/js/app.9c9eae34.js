(function(e){function t(t){for(var r,o,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},a=[];function o(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"9e56e1a2"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=s[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=s[e]=[t,r]}));t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=o(e);var u=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}s[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var p=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07bf":function(e,t,n){},"0cbf":function(e,t,n){},1771:function(e,t,n){var r={"./imgs/alien.png":"8f08","./imgs/bazz.png":"4d85","./imgs/dinozaour.png":"36ee","./imgs/dog.png":"65ce","./imgs/mr-potato.png":"73df","./imgs/trashcan.png":"42b7","./imgs/woodi.png":"8863","./logo.png":"cf05","./style/basics/_base.scss":"a963","./style/basics/_helpers.scss":"fa13","./style/basics/_layout.scss":"0cbf","./style/components/_about-page.scss":"e129","./style/components/_header.scss":"f2a5","./style/components/_home-page.scss":"87f7","./style/components/_search-filter.scss":"2064","./style/components/_toy-details.scss":"b8ec","./style/components/_toy-edit.scss":"22f5","./style/components/_toy-list.scss":"ff88","./style/components/_toy.preview.scss":"6610","./style/components/chat.scss":"fa52","./style/components/login-page.scss":"6d27","./style/components/review-form.scss":"8003","./style/setup/_mixins.scss":"07bf","./style/styles.scss":"fb6a"};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id="1771"},2064:function(e,t,n){},"22f5":function(e,t,n){},"36ee":function(e,t,n){e.exports=n.p+"img/dinozaour.082da2dd.png"},"42b7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAeZJREFUaEPtmb8uBUEUh78rkaDQiESh1IgHQCUkQqchEo+h8AJ6jyGReAEkJBo8gCgUEiQSoqCgUJDDbjLWunezO3f2z/1tc3f3zpmZ7/zOnDO726LHjlaP8SLgpisuhaVwwzygkG6YoH9wpLAUbpgHFNINE1RJK0RI7wJTGSPnEtjI2DZXsxDA74BB33eY4XgEO5iLJKNRKOAF4KzDnGaBY6A2wP0RkDnxE76fte33FVgCzqNraxY72v6Pr2eAA2DYsY37sDYfGUVs28yXwmPAg48JteljDjgtOoYvYFt/t8BA0Qn9Y/8ErAGHRfv3DbxVdEL/2G8DK1UDvgOuuwQ8ASxXDdhCuq9LwC9VDek04BHgOeGIOKMnM29aWzOtFfAbMA9cONB70fm6c28aOAGGUqKkVsC200puPPYjqFUHrt3GQ8B5c4XvspS2hqUwoJAGtIaddaqkpaSV0QPK0hkdlWwWPx6qLAGqw6rDPwtEdVh1uILvtJSlezFL2yeWReDKWZM70fmmc28SOAKspiePWu2lc+5lfplVFnjUB11KHzeAvQ6qzIt4A33sEmzcrdVp+z5V6PD18FBoEiGNBRzS22WMJYXL8HrIMaVwSG+XMZYULsPrIceUwiG9XcZYUrgMr4cc8wtpYbM9MuAWmAAAAABJRU5ErkJggg=="},4340:function(e,t,n){"use strict";n("57fb")},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id="4678"},"4d85":function(e,t,n){e.exports=n.p+"img/bazz.187d5435.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("app-header")],1),n("router-view")],1)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-header"},[e._m(0),n("section",{staticClass:"nav-links"},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),n("router-link",{attrs:{to:"/user-details"}},[e._v("Your Profile")]),n("router-link",{attrs:{to:"/toys"}},[e._v("Toys")]),n("router-link",{attrs:{to:"/about"}},[e._v("About")]),n("router-link",{attrs:{to:"/chart"}},[e._v("Toys chart")]),e.isLoggedIn?n("a",{on:{click:e.logout}},[e._v("Log out")]):n("router-link",{attrs:{to:"/login"}},[e._v("Login/Sign up")])],1)])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h1",[e._v("Toys Are Us")])])}],c=n("1da1"),u=(n("96cf"),n("c740"),n("a434"),n("2f62")),l=(n("99af"),n("fd8f"),n("bc3a")),p=l.create({withCredentials:!0}),d={query:g,getById:m,deleteToy:y,save:w,getEmptyToy:R};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="/api/toy";return"".concat(t,"/").concat(e)}function g(e){return v.apply(this,arguments)}function v(){return v=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get(f(),{params:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),v.apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return h=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get(f(t),t);case 3:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),h.apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return b=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.delete(f(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),b.apply(this,arguments)}function w(e){return j.apply(this,arguments)}function j(){return j=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t._id){e.next=9;break}return console.log("TOY",t),e.next=5,x(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.next=11,_(t);case 11:return r=e.sent,e.abrupt("return",r);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),j.apply(this,arguments)}function _(e){return k.apply(this,arguments)}function k(){return k=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.put(f(t._id),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),k.apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return O=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.post(f(),t);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),O.apply(this,arguments)}function R(){return{name:"",price:null,labels:[],createdAt:null,inStock:null,url:"imgs/woodi.png"}}n("e9c4");var T=n("bc3a"),S=T.create({withCredentials:!0}),A="userDB",$={login:C,logout:E,getLoggedinUser:I,signup:z};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="/api/auth";return"".concat(t,"/").concat(e)}function I(){return JSON.parse(sessionStorage.getItem(A))}function C(e){return U.apply(this,arguments)}function U(){return U=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,sessionStorage.setItem("userDB",JSON.stringify(t)),e.next=5,S.post(M("login"),t);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),U.apply(this,arguments)}function E(){return P.apply(this,arguments)}function P(){return P=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post(M("logout"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),P.apply(this,arguments)}function z(e){return B.apply(this,arguments)}function B(){return B=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,S.post(M("signup"),t);case 4:return n=e.sent,sessionStorage.setItem("userDB",JSON.stringify(n.data)),e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e["catch"](1),console.log("Logged in has failed, try again",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),B.apply(this,arguments)}window.userService=$;n("4de4"),n("d3b7");var D=n("bc3a"),F=n.n(D),L=(n("3ca3"),n("ddb0"),n("8c4f")),N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),r("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},J=[],Y=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},H=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v("Welcome to your toys Shop")])])}],q={name:"HelloWorld",props:{msg:String}},G=q,W=(n("4340"),n("0c7c")),V=Object(W["a"])(G,Y,H,!1,null,"aa97f866",null),Q=V.exports,K={name:"Home",components:{HelloWorld:Q}},X=K,Z=Object(W["a"])(X,N,J,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"toy-container main-layout"},[n("div",[n("toy-filter"),n("toy-list",{attrs:{toys:e.toysForDisplay},on:{remove:e.remove}})],1)])},ne=[],re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"toy-list"},e._l(e.toys,(function(t){return n("toy-preview",{key:t._id,attrs:{toy:t},on:{removeToy:function(n){return e.$emit("remove",t._id)}}})})),1)])},se=[],ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.toy?r("section",{staticClass:"toy-preview"},[r("div",{staticClass:"toy-details"},[r("ul",{staticClass:"toy-card"},[r("li",[r("span",[e._v("Name : ")]),e._v(e._s(e.toy.name))]),r("li",[r("span",[e._v("Price : ")]),e._v(e._s(e.toy.price)+"$")]),r("li",[r("span",[e._v("Is available?")]),e._v(" "+e._s(e.trueFalseToHumans))]),e._m(0),r("li",{staticClass:"label"},e._l(e.toy.labels,(function(t){return r("span",{key:t},[e._v(" "+e._s(t)+" ")])})),0)]),r("div",{staticClass:"edit-links"},[r("router-link",{attrs:{to:"/toy/details/"+e.toy._id}},[e._v("Details")]),e.loggedInUser.isAdmin?r("router-link",{attrs:{to:"/toy/edit/"+e.toy._id}},[e._v("Edit")]):e._e(),e.loggedInUser.isAdmin?r("img",{attrs:{src:n("42b7"),alt:"Remove"},on:{click:function(t){return e.removeToy(e.toy._id)}}}):e._e()],1)]),r("div",{staticClass:"img-container"},[r("img",{attrs:{src:n("1771")("./"+e.toy.url)}})])]):e._e()},oe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("span",[e._v("Labels: ")])])}],ie={props:["toy"],data:function(){return{loggedInUser:null}},created:function(){this.getUser()},methods:{removeToy:function(){this.$emit("removeToy")},getUser:function(){this.loggedInUser=ln.state.loggedInUser}},computed:{trueFalseToHumans:function(){return this.toy.inStock?"Yes":"No"}}},ce=ie,ue=Object(W["a"])(ce,ae,oe,!1,null,null,null),le=ue.exports,pe={props:{toys:null},components:{toyPreview:le},created:function(){}},de=pe,fe=Object(W["a"])(de,re,se,!1,null,null,null),ge=fe.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-filter"},[n("div",{staticClass:"search-input"},[n("el-input",{attrs:{placeholder:"Search Toys",clearable:""},on:{input:e.filter},model:{value:e.filterBy.title,callback:function(t){e.$set(e.filterBy,"title",t)},expression:"filterBy.title"}})],1),n("div",{staticClass:"select-input"},[n("el-select",{on:{change:e.filter},model:{value:e.filterBy.selectOpt,callback:function(t){e.$set(e.filterBy,"selectOpt",t)},expression:"filterBy.selectOpt"}},[n("el-option",{attrs:{value:"All"}},[e._v("All")]),n("el-option",{attrs:{value:"stock"}},[e._v("In stock")])],1),n("multi-select",{on:{setLabelFilter:e.setLabelFilter}}),n("router-link",{staticClass:"add-toy",attrs:{to:"/toy/edit"}},[e._v("Add+")])],1)])},me=[],he=n("5530"),ye=(n("ac1f"),n("5319"),n("25f0"),n("4d63"),n("c607"),n("2c3e"),{makeId:be,getRandomInt:we,timeSince:je,debounce:_e});function be(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function we(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function je(e){if(e instanceof Date||(e=new Date(e)),isNaN(e.getDate()))return"Invalid date";var t,n=new Date,r=(n.getTime()-e.getTime())/1e3,s=function(e,t,n){var r=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],s=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function i(e,t){var n=e+"";t=t||2;while(n.length<t)n="0"+n;return n}var c=n?e.getUTCFullYear():e.getFullYear();t=t.replace(/(^|[^\\])yyyy+/g,"$1"+c),t=t.replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2)),t=t.replace(/(^|[^\\])y/g,"$1"+c);var u=(n?e.getUTCMonth():e.getMonth())+1;t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0]),t=t.replace(/(^|[^\\])MMM/g,"$1"+s[0]),t=t.replace(/(^|[^\\])MM/g,"$1"+i(u)),t=t.replace(/(^|[^\\])M/g,"$1"+u);var l=n?e.getUTCDate():e.getDate();t=t.replace(/(^|[^\\])dddd+/g,"$1"+a[0]),t=t.replace(/(^|[^\\])ddd/g,"$1"+o[0]),t=t.replace(/(^|[^\\])dd/g,"$1"+i(l)),t=t.replace(/(^|[^\\])d/g,"$1"+l);var p=n?e.getUTCHours():e.getHours();t=t.replace(/(^|[^\\])HH+/g,"$1"+i(p)),t=t.replace(/(^|[^\\])H/g,"$1"+p);var d=p>12?p-12:0==p?12:p;t=t.replace(/(^|[^\\])hh+/g,"$1"+i(d)),t=t.replace(/(^|[^\\])h/g,"$1"+d);var f=n?e.getUTCMinutes():e.getMinutes();t=t.replace(/(^|[^\\])mm+/g,"$1"+i(f)),t=t.replace(/(^|[^\\])m/g,"$1"+f);var g=n?e.getUTCSeconds():e.getSeconds();t=t.replace(/(^|[^\\])ss+/g,"$1"+i(g)),t=t.replace(/(^|[^\\])s/g,"$1"+g);var v=n?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+i(v,3)),v=Math.round(v/10),t=t.replace(/(^|[^\\])ff/g,"$1"+i(v)),v=Math.round(v/10),t=t.replace(/(^|[^\\])f/g,"$1"+v);var m=p<12?"AM":"PM";t=t.replace(/(^|[^\\])TT+/g,"$1"+m),t=t.replace(/(^|[^\\])T/g,"$1"+m.charAt(0));var h=m.toLowerCase();t=t.replace(/(^|[^\\])tt+/g,"$1"+h),t=t.replace(/(^|[^\\])t/g,"$1"+h.charAt(0));var y=-e.getTimezoneOffset(),b=n||!y?"Z":y>0?"+":"-";if(!n){y=Math.abs(y);var w=Math.floor(y/60),j=y%60;b+=i(w)+":"+i(j)}t=t.replace(/(^|[^\\])K/g,"$1"+b);var _=(n?e.getUTCDay():e.getDay())+1;return t=t.replace(new RegExp(a[0],"g"),a[_]),t=t.replace(new RegExp(o[0],"g"),o[_]),t=t.replace(new RegExp(r[0],"g"),r[u]),t=t.replace(new RegExp(s[0],"g"),s[u]),t=t.replace(/\\(.)/g,"$1"),t};return r<0?e:r<60?parseInt(r)+"secs":r<3600?parseInt(r/60)+"mins":r<=86400?parseInt(r/3600)+"hrs":r<=172800?"Yesderday at "+s(e,"h:mmtt"):r>172800?(t=r<=604800?s(e,"dddd")+" at "+s(e,"h:mmtt"):n.getFullYear()>e.getFullYear()?s(e,"MMMM d, yyyy"):n.getMonth()>e.getMonth()?s(e,"MMMM d"):s(e,"MMMM d")+" at "+s(e,"h:mmtt"),t):void 0}function _e(e,t){var n;return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var o=function(){clearTimeout(n),e.apply(void 0,s)};clearTimeout(n),n=setTimeout(o,t)}}var ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{multiple:"",placeholder:"Search by label"},on:{change:e.filter},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)},xe=[],Oe={data:function(){return{options:[{value:"Fun",label:"Fun"},{value:"Action",label:"Action"},{value:"Space",label:"Space"},{value:"Funny",label:"Funny"}],value1:[]}},methods:{filter:function(){this.$emit("setLabelFilter",this.value1)}}},Re=Oe,Te=Object(W["a"])(Re,ke,xe,!1,null,null,null),Se=Te.exports,Ae={data:function(){return{filterBy:{title:"",selectOpt:"All",labels:[]}}},created:function(){this.filter=ye.debounce(this.filter,2e3)},methods:{setLabelFilter:function(e){this.filterBy.labels=e,this.filter(),console.log(e)},filter:function(){this.$store.dispatch({type:"filter",filterBy:Object(he["a"])({},this.filterBy)})}},components:{multiSelect:Se}},$e=Ae,Me=Object(W["a"])($e,ve,me,!1,null,null,null),Ie=Me.exports,Ce={data:function(){return{toys:[]}},components:{toyList:ge,toyFilter:Ie},created:function(){this.$store.dispatch({type:"loadToys"})},computed:{toysForDisplay:function(){return this.$store.getters.toysForDisplay}},methods:{remove:function(e){this.$store.dispatch({type:"remove",toyId:e}).then((function(){console.log("Removed")}))}}},Ue=Ce,Ee=Object(W["a"])(Ue,te,ne,!1,null,null,null),Pe=Ee.exports,ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.toy?r("section",{staticClass:"toy-details"},[r("div",{staticClass:"img-container"},[r("img",{attrs:{src:n("1771")("./"+e.toy.url)}})]),r("div",{staticClass:"toy-details"},[r("ul",{staticClass:"toy-card"},[r("li",[r("span",[e._v("Name :")]),e._v(" "+e._s(e.toy.name))]),r("li",[r("span",[e._v("Price :")]),e._v(" "+e._s(e.toy.price)+"$")]),r("li",[r("span",[e._v("Available ?")]),e._v(" "+e._s(e.trueFalseToHumans))])]),r("div",{staticClass:"edit-links"},[r("router-link",{attrs:{to:"/toy/edit/"+e.toy._id}},[e._v("Edit")])],1)]),e.reviews?r("div",{staticClass:"reviews-container scrollbar",attrs:{id:"style-2"}},[r("h1",[e._v("What do you think about this toy?..")]),e._l(e.reviews,(function(t,n){return r("div",{key:n,staticClass:"review-card"},[r("div",{staticClass:"byUser"},[r("h3",[e._v(e._s(t.byUser.fullname))])]),r("p",[e._v(e._s(t.txt))]),r("span",[e._v(e._s(e._f("moment")(t.createdAt,"from")))]),r("div",{staticClass:"btn",on:{click:function(n){return e.removeReview(t._id)}}},[e._v("X")])])})),r("form",{staticClass:"review-form"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reviewToEdit.txt,expression:"reviewToEdit.txt"}],attrs:{placeholder:"Your Opinion Matters..."},domProps:{value:e.reviewToEdit.txt},on:{input:function(t){t.target.composing||e.$set(e.reviewToEdit,"txt",t.target.value)}}}),r("el-button",{on:{click:function(t){return e.addReview()}}},[e._v("Save")])],1)],2):e._e(),r("chat",{attrs:{toy:e.toy}}),r("button",{staticClass:"back-btn",on:{click:e.backToMain}},[e._v("Back")])],1):e._e()},Be=[],De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e.chatOpen?n("div",{staticClass:"chat-container"},[n("ul",{staticClass:"messages"},e._l(e.msgs,(function(t,r){return n("li",{key:r},[n("span",[e._v(e._s(t.from)+":")]),e._v(e._s(t.txt)+" ")])})),0),n("form",{attrs:{id:"form"},on:{submit:function(t){return t.preventDefault(),e.sendMsg.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],attrs:{id:"input",autocomplete:"off"},domProps:{value:e.msg.txt},on:{input:function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)}}}),n("button",[e._v("Send")])]),n("el-button",{staticClass:"close-chat-btn",on:{click:function(t){e.chatOpen=!e.chatOpen}}},[e._v("X")])],1):n("div",[n("el-button",{staticClass:"open-chat-ctn",attrs:{type:"success"},on:{click:function(t){e.chatOpen=!e.chatOpen}}},[e._v("Open Chat")])],1)])},Fe=[],Le=n("2909"),Ne=(n("159b"),n("daa8")),Je="review-added",Ye="",He=qe();function qe(){var e=null,t={setup:function(){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Object(Ne["a"])(Ye);case 1:case"end":return t.stop()}}),t)})))()},on:function(t,n){e.on(t,n)},off:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(n?e.off(t,n):e.removeAllListeners(t))},emit:function(t,n){e.emit(t,n)},terminate:function(){e=null}};return t}window.socketService=He,He.setup();var Ge,We,Ve,Qe,Ke={props:["toy"],data:function(){return{chatOpen:!1,msg:{from:"Me",txt:""},msgs:[],user:this.getLoggedinUser}},components:{},created:function(){console.log(this.toy),He.emit("chat topic",this.toy._id),He.on("chat addMsg",this.addMsg)},destroyed:function(){He.off("chat addMsg",this.addMsg)},computed:{getLoggedinUser:function(){return this.$store.getters.getLoggedinUser}},methods:{addMsg:function(e){this.msgs.push(e)},sendMsg:function(){console.log(this.user,"TOY "),console.log("Sending",this.msg),He.emit("chat newMsg",this.msg),this.msg={from:"Me",txt:""}},changeTopic:function(){He.emit("chat topic",this.topic)}}},Xe=Ke,Ze=Object(W["a"])(Xe,De,Fe,!1,null,null,null),et=Ze.exports,tt={data:function(){return{reviewToEdit:{txt:"",aboutToyId:null},toy:null}},created:function(){this.loadToy()},computed:{reviews:function(){return this.$store.getters.reviews},getToyId:function(){return this.toy._id},trueFalseToHumans:function(){return this.toy.inStock?"Yes":"No"}},methods:{removeReview:function(e){this.$store.dispatch({type:"removeReview",reviewId:e})},addReview:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"addReview",review:e.reviewToEdit});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:return t.prev=8,e.reviewToEdit.txt="",t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})))()},loadToy:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$route.params.toyId,t.next=4,d.getById(n);case 4:r=t.sent,e.toy=r,e.reviewToEdit.aboutToyId=e.toy._id,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:return t.prev=12,e.$store.dispatch({type:"loadReviews",toyId:e.toy._id}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},backToMain:function(){this.$router.push("/toys")}},components:{chat:et}},nt=tt,rt=Object(W["a"])(nt,ze,Be,!1,null,null,null),st=rt.exports,at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.toy?r("section",{staticClass:"toy-details"},[r("div",{staticClass:"img-container"},[e.toy?r("img",{attrs:{src:n("1771")("./"+e.toy.url)}}):e._e()]),r("form",{staticClass:"toy-edit",on:{submit:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[r("label",[e._v("New name ?")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.name,expression:"toy.name"}],attrs:{type:"text"},domProps:{value:e.toy.name},on:{input:function(t){t.target.composing||e.$set(e.toy,"name",t.target.value)}}}),r("label",[e._v("Price ?")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.price,expression:"toy.price"}],attrs:{type:"number"},domProps:{value:e.toy.price},on:{input:function(t){t.target.composing||e.$set(e.toy,"price",t.target.value)}}}),r("label",[e._v("On stock?")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.inStock,expression:"toy.inStock"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.toy.inStock)?e._i(e.toy.inStock,null)>-1:e.toy.inStock},on:{change:function(t){var n=e.toy.inStock,r=t.target,s=!!r.checked;if(Array.isArray(n)){var a=null,o=e._i(n,a);r.checked?o<0&&e.$set(e.toy,"inStock",n.concat([a])):o>-1&&e.$set(e.toy,"inStock",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.toy,"inStock",s)}}}),r("button",[e._v("Save")])]),r("button",{on:{click:e.backToMain}},[e._v("Back")])]):e._e()},ot=[],it={data:function(){return{toy:null}},created:function(){this.loadToy()},methods:{save:function(){var e=this;this.$store.dispatch({type:"updateToy",toy:JSON.parse(JSON.stringify(this.toy))}).then((function(t){console.log("Saved"),e.$router.push("/toys")}))},loadToy:function(){var e=this,t=this.$route.params.toyId;t?d.getById(t).then((function(t){e.toy=JSON.parse(JSON.stringify(t))})):this.toy=d.getEmptyToy()},backToMain:function(){this.$router.push("/toys")}}},ct=it,ut=Object(W["a"])(ct,at,ot,!1,null,null,null),lt=ut.exports,pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chart-container"},[n("h3",[e._v("Inventory by type:")]),n("chart",{staticClass:"chart"}),n("h3",[e._v("Prices per toy type:")]),n("lineCart",{staticClass:"chart"})],1)},dt=[],ft=n("ade3"),gt=(n("d81d"),n("07ac"),n("b680"),n("1fca")),vt={extends:gt["b"],mounted:function(){console.log(this.inStockByType),this.renderChart({labels:["Adult","Educational","Funny","Animal"],afterTitle:"%",datasets:[Object(ft["a"])({label:"GitHub Commits",backgroundColor:"#f87979",data:this.getInStockByType},"backgroundColor",["#81ecec","#ffeaa7","#ff7675","#fd79a8"])]})},data:function(){return{labels:["Adult","Educational","Funny","Animal"],toys:null,objectMap:null,inStockByType:[]}},created:function(){this.toys=this.$store.getters.getToys,console.log("TOYS",this.toys)},computed:{getInStockByType:function(){var e=this.toys.reduce((function(e,t){return e[t.type]?t.inStock&&e[t.type]++:t.inStock&&(e[t.type]=1),e}),{});console.log("types",e);var t=Object.values(e).map((function(t){return(100/Object.values(e).length*t).toFixed(2)}));return t}},methods:{countType:function(){this.objectMap=this.labels.reduce((function(e,t){return e[t]?++e[t]:e[t]=1,e}),{}),console.log("TOYS",this.objectMap)}}},mt=vt,ht=Object(W["a"])(mt,Ge,We,!1,null,null,null),yt=ht.exports,bt={extends:gt["a"],mounted:function(){this.renderChart({type:"bar",labels:["Adult","Educational","Funny","Animal"],datasets:[{label:"Price",backgroundColor:"#f87979",data:this.pricesPerType}]},{options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})},data:function(){return{toys:null}},computed:{pricesPerType:function(){var e=this.toys.reduce((function(e,t){return e[t.type]||(e[t.type]=[]),e[t.type].push(t),e}),{}),t=Object.values(e),n=t.map((function(e){var t=e.reduce((function(e,t){return e+ +t.price}),0)/e.length;return t.toFixed(2)}));return n}},created:function(){this.toys=this.$store.getters.getToys}},wt=bt,jt=Object(W["a"])(wt,Ve,Qe,!1,null,null,null),_t=jt.exports,kt={components:{chart:yt,lineCart:_t}},xt=kt,Ot=(n("6def"),Object(W["a"])(xt,pt,dt,!1,null,null,null)),Rt=Ot.exports,Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page"},[e.isSignedUp?n("div",{staticClass:"sign-up-form"},[n("h1",[e._v("Login here")]),n("p",[e._v("Please enter username:")]),n("el-input",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),n("p",[e._v("Please enter your password:")]),n("el-input",{attrs:{type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("el-button",{on:{click:e.login}},[e._v("Log in")])],1):n("div",{staticClass:"sign-up-form"},[n("h1",[e._v("Sign up here")]),n("p",[e._v("Please enter Full name:")]),n("el-input",{model:{value:e.user.fullname,callback:function(t){e.$set(e.user,"fullname",t)},expression:"user.fullname"}}),n("p",[e._v("Please enter username:")]),n("el-input",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),n("p",[e._v("Please enter your password:")]),n("el-input",{attrs:{type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("el-button",{on:{click:e.signup}},[e._v("Sign")]),n("p",[e._v("Allready got an account?")]),n("el-button",{on:{click:function(t){e.isSignedUp=!e.isSignedUp}}},[e._v("Click here")])],1)])},St=[],At={data:function(){return{isSignedUp:!1,user:{},loggedInUser:null}},methods:{signup:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.parse(JSON.stringify(e.user)),t.next=3,e.$store.dispatch("signUp",{user:n});case 3:r=t.sent,r&&e.$router.push("/toys"),e.user={};case 6:case"end":return t.stop()}}),t)})))()},login:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.parse(JSON.stringify(e.user)),t.next=3,e.$store.dispatch("login",{user:n});case 3:r=t.sent,r&&e.$router.push("/toys"),e.user={};case 6:case"end":return t.stop()}}),t)})))()}}},$t=At,Mt=Object(W["a"])($t,Tt,St,!1,null,null,null),It=Mt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"user-details"},[n("div",[n("h2"),e._l(e.reviews,(function(t){return n("div",{key:t._Id},[n("p",[e._v(e._s(t.txt))])])}))],2),n("button",{on:{click:e.backToMain}},[e._v("Back")])])},Ut=[],Et={data:function(){return{user:null}},created:function(){},computed:{getUser:function(){},reviews:function(){return this.$store.getters.reviews}},methods:{loadReview:function(){console.log(this.user),this.$store.dispatch({type:"getReviews",userId:this.user._id})},backToMain:function(){this.$router.push("/toys")}}},Pt=Et,zt=Object(W["a"])(Pt,Ct,Ut,!1,null,null,null),Bt=zt.exports;r["default"].use(L["a"]);var Dt=[{path:"/",name:"Home",component:ee},{path:"/chart",name:"chart",component:Rt},{path:"/login",name:"login",component:It},{path:"/user-details",name:"user-details",component:Bt},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"a1d1"))}},{path:"/toys",name:"toys",component:Pe},{path:"/toy/edit/:toyId?",component:lt},{path:"/toy/details/:toyId",component:st}],Ft=new L["a"]({mode:"history",base:"/",routes:Dt});Ft.beforeEach(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=ln.state.loggedInUser,s){e.next=5;break}return e.next=4,ln.dispatch({type:"login"},{});case 4:s=e.sent;case 5:console.log(s),"/toys"===t.fullPath&&(s||r("/login")),"/login"===t.fullPath&&s&&r("/toys"),r();case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var Lt=Ft,Nt="/api/",Jt=F.a.create({withCredentials:!0}),Yt={get:function(e,t){return console.log(e,"endpoint"),Ht(e,"GET",t)},post:function(e,t){return Ht(e,"POST",t)},put:function(e,t){return Ht(e,"PUT",t)},delete:function(e,t){return Ht(e,"DELETE",t)}};function Ht(e){return qt.apply(this,arguments)}function qt(){return qt=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",r=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,Jt({url:"".concat(Nt).concat(t),method:n,data:r,params:"GET"===n?r:null});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data:"),r),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&(void 0).push("/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),qt.apply(this,arguments)}n("7db0");var Gt={query:Wt,get:Vt,post:Qt,put:Zt,remove:en,postMany:Xt,postUnshift:Kt};function Wt(e){var t=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(t)}function Vt(e,t){return Wt(e).then((function(e){return e.find((function(e){return e._id===t}))}))}function Qt(e,t){return t._id=nn(),Wt(e).then((function(n){return n.push(t),tn(e,n),t}))}function Kt(e,t){return t._id=nn(),Wt(e).then((function(n){return n.unshift(t),tn(e,n),t}))}function Xt(e,t){return Wt(e).then((function(n){return n.push.apply(n,Object(Le["a"])(t)),tn(e,n),n}))}function Zt(e,t){return Wt(e).then((function(n){var r=n.findIndex((function(e){return e._id===t._id}));return n.splice(r,1,t),tn(e,n),t}))}function en(e,t){return Wt(e).then((function(n){var r=n.findIndex((function(e){return e._id===t}));n.splice(r,1),tn(e,n)}))}function tn(e,t){localStorage.setItem(e,JSON.stringify(t))}function nn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var rn={add:on,query:sn,remove:an};function sn(e){console.log(e);var t=e?"?id=".concat(e):"";return Yt.get("review".concat(t))}function an(e){return Yt.delete("review/".concat(e))}function on(e){return cn.apply(this,arguments)}function cn(){return cn=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Yt.post("review",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),cn.apply(this,arguments)}Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Gt.query("review");case 2:t=e.sent,window.addEventListener("storage",Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Storage updated"),e.next=3,Gt.query("review");case 3:n=e.sent,n.length===t.length+1&&(console.log("Review Added - localStorage updated from another browser"),He.emit(Je,n[n.length-1])),t=n;case 6:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})))();var un={state:{reviews:[]},getters:{reviews:function(e){return e.reviews}},mutations:{setReviews:function(e,t){var n=t.reviews;e.reviews=n},addReview:function(e,t){var n=t.addedReview;e.reviews.push(n)},removeReview:function(e,t){var n=t.reviewId;e.reviews=e.reviews.filter((function(e){return e._id!==n}))}},actions:{getReviews:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.userId,n.prev=1,n.next=4,rn.query(r);case 4:return s=n.sent,console.log(s),e.commit({type:"setReviews",reviews:s}),n.abrupt("return",s);case 10:n.prev=10,n.t0=n["catch"](1),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},addReview:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.review,n.prev=1,n.next=4,rn.add(r);case 4:return n.next=6,rn.query(r.aboutToyId);case 6:return s=n.sent,e.commit({type:"setReviews",reviews:s}),n.abrupt("return",s);case 11:throw n.prev=11,n.t0=n["catch"](1),console.log("reviewStore: Error in addReview",n.t0),n.t0;case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))()},loadReviews:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.toyId,n.prev=1,n.next=4,rn.query(r);case 4:s=n.sent,e.commit({type:"setReviews",reviews:s}),n.next=12;break;case 8:throw n.prev=8,n.t0=n["catch"](1),console.log("reviewStore: Error in loadReviews",n.t0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))()},removeReview:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.reviewId,n.prev=1,n.next=4,rn.remove(r);case 4:e.commit({type:"removeReview",reviewId:r}),n.next=11;break;case 7:throw n.prev=7,n.t0=n["catch"](1),console.log("reviewStore: Error in removeReview",n.t0),n.t0;case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))()}}};r["default"].use(u["a"]);var ln=new u["a"].Store({modules:{reviewStore:un},state:{toys:[],filterBy:"",loggedInUser:null},getters:{getLoggedinUser:function(e){return e.loggedInUser},getToys:function(e){return e.toys},toysForDisplay:function(e){return e.toys}},mutations:{setToys:function(e,t){var n=t.toys;e.toys=n},remove:function(e,t){var n=t.toyId,r=e.toys.findIndex((function(e){return e._id===n}));e.toys.splice(r,1)},update:function(e,t){var n=t.savedToy,r=e.toys.findIndex((function(e){return n._id===e._id}));e.toys.splice(r,1,n)},filter:function(e,t){var n=t.filterBy;e.filterBy=n},signUp:function(e,t){var n=t.loggedInUser;e.loggedInUser=n},login:function(e,t){var n=t.loggedInUser;e.loggedInUser=n},logout:function(e){e.loggedInUser=null}},actions:{logout:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,t.loggedOutUser,n.next=4,$.logout();case 4:if(s=n.sent,!s){n.next=9;break}return console.log("Logged Out Succesfully"),r({type:"logout"}),n.abrupt("return",!0);case 9:case"end":return n.stop()}}),n)})))()},signUp:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.user,n.prev=2,n.next=5,$.signup(s);case 5:return a=n.sent,r({type:"signUp",loggedInUser:a}),n.abrupt("return",a);case 10:n.prev=10,n.t0=n["catch"](2),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()},login:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.user,n.prev=2,n.next=5,$.login(s);case 5:return a=n.sent,r({type:"login",loggedInUser:a}),n.abrupt("return",a);case 10:n.prev=10,n.t0=n["catch"](2),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()},loadToys:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.prev=1,s=r.filterBy?r.filterBy:"",t.next=5,d.query(s);case 5:a=t.sent,n({type:"setToys",toys:a}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},filter:function(e,t){var n=e.commit,r=e.dispatch,s=t.filterBy;n({type:"filter",filterBy:s}),r({type:"loadToys"})},updateToy:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.toy,n.prev=2,console.log("toy:",s),n.next=6,d.save(s);case 6:return a=n.sent,r({type:"update",savedToy:a}),n.abrupt("return",a);case 11:n.prev=11,n.t0=n["catch"](2),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))()},remove:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.toyId,n.prev=2,n.next=5,d.deleteToy(s);case 5:n.sent,r({type:"remove",toyId:s}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()}}}),pn={name:"main-header",data:function(){return{loggedInUser:null}},created:function(){},methods:{logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.loggedInUser,t.next=3,e.$store.dispatch("logout",{loggedOutUser:n});case 3:r=t.sent,r&&e.$router.push("/login");case 5:case"end":return t.stop()}}),t)})))()}},computed:{isLoggedIn:function(){return this.loggedInUser=ln.state.loggedInUser,this.loggedInUser}}},dn=pn,fn=Object(W["a"])(dn,o,i,!1,null,null,null),gn=fn.exports,vn={components:{appHeader:gn,toysApp:Pe},created:function(){var e=this;this.$isLoading(!0),setTimeout((function(){return e.$isLoading(!1)}),1e3)}},mn=vn,hn=Object(W["a"])(mn,s,a,!1,null,null,null),yn=hn.exports,bn=(n("fb6a"),n("49c6")),wn=n("5c96"),jn=n.n(wn),_n=n("ecee"),kn=n("c074"),xn=n("ad3d"),On=n("755e");_n["c"].add(kn["a"]),r["default"].use(On,{load:{key:"AIzaSyBA7NOmJ_7t6Q-h5Q-LVyCmQ3-CeqtAr_Q",libraries:"places",installComponents:!0}}),r["default"].component("font-awesome-icon",xn["a"]),r["default"].use(bn["a"],{bg:"#81ecec",icon:"refresh",size:3,icon_color:"white",slot:'\n  <div class="px-5 py-3 bg-gray-800 rounded">\n  <img src="/img/logo.fee8ee0b.png" />\n    <h1 class="text-3xl text-white"><i class="fas fa-spinner fa-spin"></i> \n     Loading....\n    </h1>\n  </div>\n'}),r["default"].use(jn.a),r["default"].use(n("2ead")),r["default"].config.productionTip=!1,new r["default"]({router:Lt,store:ln,render:function(e){return e(yn)}}).$mount("#app")},"57fb":function(e,t,n){},"65ce":function(e,t,n){e.exports=n.p+"img/dog.1d5f594c.png"},6610:function(e,t,n){},"6d27":function(e,t,n){},"6def":function(e,t,n){"use strict";n("804e")},"73df":function(e,t,n){e.exports=n.p+"img/mr-potato.7cb581cd.png"},8003:function(e,t,n){},"804e":function(e,t,n){},"87f7":function(e,t,n){},8863:function(e,t,n){e.exports=n.p+"img/woodi.02235c1d.png"},"8f08":function(e,t,n){e.exports=n.p+"img/alien.5cf4e449.png"},a963:function(e,t,n){},b8ec:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.fee8ee0b.png"},e129:function(e,t,n){},f2a5:function(e,t,n){},fa13:function(e,t,n){},fa52:function(e,t,n){},fb6a:function(e,t,n){},ff88:function(e,t,n){}});
//# sourceMappingURL=app.9c9eae34.js.map